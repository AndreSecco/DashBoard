(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[549],{1546:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return _}});var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("DashBoardComponent",[o("div",{staticClass:"main",attrs:{slot:"slot-pages"},slot:"slot-pages"},[o("div",{staticClass:"pages"},[o("h1",[e._v("Produtos")]),o("Message",{directives:[{name:"show",rawName:"v-show",value:e.msg,expression:"msg"}],attrs:{msg:e.msg}}),o("div",[o("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-1"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[o("b-form",{attrs:{id:"produto-form"},on:{submit:e.insereProduto}},[o("div",{staticClass:"d-flex row"},[o("b-form-group",{staticClass:"col-12 col-sm-6",attrs:{id:"input-nomeProd",label:"Nome:","label-for":"input-1"}},[o("b-form-input",{staticClass:"col-12",attrs:{id:"nomeProd",type:"text",placeholder:"Nome",required:""},model:{value:e.nomeProd,callback:function(t){e.nomeProd=t},expression:"nomeProd"}},[e._v(e._s(e.nomeProd))])],1),o("b-form-group",{staticClass:"col-12 col-sm-2",attrs:{id:"input-precoProd",label:"Preço de Venda:","label-for":"input-2"}},[o("b-form-input",{attrs:{id:"precoProd",placeholder:"R$",required:""},model:{value:e.precoProd,callback:function(t){e.precoProd=t},expression:"precoProd"}})],1),o("b-form-group",{staticClass:"col-2",attrs:{id:"input-group-3",label:"Estoque:","label-for":"input-3"}},[o("b-form-input",{attrs:{id:"input-estoque",type:"Estoque",placeholder:"Estoque",required:""},model:{value:e.estoqueProd,callback:function(t){e.estoqueProd=t},expression:"estoqueProd"}})],1)],1),o("div",{staticClass:"d-flex row"},[o("b-form-group",{staticClass:"col-6",attrs:{id:"input-group-6",label:"Cód. de Barras:","label-for":"input-3"}},[o("b-form-input",{attrs:{id:"input-descricao",type:"Cód. de Barras",placeholder:"Cód. de Barras",required:""},model:{value:e.codBarras,callback:function(t){e.codBarras=t},expression:"codBarras"}})],1)],1),o("div",{attrs:{id:"atlista"}},[o("b-button",{staticClass:"mr-1",attrs:{type:"submit",variant:"success"},on:{click:function(t){e.visible=!e.visible,e.insereProduto}}},[e._v("Inserir")]),o("b-button",{staticClass:"mr-1",attrs:{variant:"primary"},on:{click:function(t){e.visible=!e.visible,e.confirmaUpdate(e.idProd)}}},[e._v("Alterar")]),o("b-button",{staticClass:"mr-1",attrs:{type:"reset"},on:{click:function(t){e.visible=!e.visible,e.limpaCampos()}}},[e._v("Cancelar")])],1)])],1)],1),o("div",{staticClass:"mt-3"},[o("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],staticClass:"mb-3",attrs:{variant:"outline-primary"}},[e._v(" Adicionar Novo Registro")]),o("table",{staticClass:"table"},[o("thead",[o("tr",[o("th",{attrs:{scope:"col"}},[e._v("#")]),o("th",{attrs:{scope:"col"}},[e._v("Nome")]),o("th",{attrs:{scope:"col"}},[e._v("Cod. de Barras")]),o("th",{attrs:{scope:"col"}},[e._v("Preço")]),o("th",{attrs:{scope:"col"}},[e._v("Ações")])])]),o("tbody",e._l(e.produtos,(function(t){return o("tr",{key:t.id},[o("th",{attrs:{scope:"row"}},[e._v(e._s(t.id))]),o("td",[e._v(e._s(t.nomeProd))]),o("td",[e._v(e._s(t.codBarras))]),o("td",[e._v("R$ "+e._s(t.precoProd))]),o("td",[o("b-button",{staticClass:"mr-2",attrs:{variant:"outline-primary"},on:{click:function(o){e.updateProd(t.id),e.visible=!e.visible}}},[e._v("Editar")]),o("b-button",{attrs:{variant:"outline-danger"},on:{click:function(o){return e.confirmaExclusao(t.id)}}},[e._v("Excluir")])],1)])})),0)])],1)],1)])])],1)},s=[],n=o(6198),a=(o(5666),o(8862),o(1539),o(9070)),i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("b-modal",{attrs:{id:"modal-1",size:"xl",title:"Insira um Produto","hide-footer":""},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}})],1)},u=[],c=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("b-alert",{attrs:{show:""}},[e._v(e._s(e.msg))])],1)},d=[],l={name:"Message",props:{msg:String}},p=l,m=o(1001),f=(0,m.Z)(p,c,d,!1,null,null,null),h=f.exports,v={name:"insereProduto",emits:["atualiza-lista-prod"],props:{show:Boolean},data:function(){return{nomeProd:null,precoProd:null,estoqueProd:null,codBarras:null,produto:null,msg:null,form:{},show:!1}},methods:{limpaCampos:function(){this.nomeProd="",this.precoProd="",this.codBarras="",this.estoqueProd=""},insereProduto:function(e){var t=this;return(0,n.Z)(regeneratorRuntime.mark((function o(){var r,s,n;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return e.preventDefault(),r={nomeProd:t.nomeProd,precoProd:t.precoProd,estoqueProd:t.estoqueProd,codBarras:t.codBarras},s=JSON.stringify(r),o.next=5,fetch("http://localhost:3000/produtos",{method:"POST",headers:{"Content-Type":"application/json"},body:s});case 5:return n=o.sent,o.next=8,n.json();case 8:o.sent,t.msg="Registro inserido com sucesso",setTimeout((function(){return t.msg=""}),2500),t.limpaCampos(),t.$root.$emit("atualiza-lista-prod");case 13:case"end":return o.stop()}}),o)})))()},getProdutos:function(){}},mounted:function(){},components:{Message:h}},P=v,g=(0,m.Z)(P,i,u,!1,null,null,null),b=g.exports,x={name:"ProdutosComponents",components:{DashBoardComponent:a.Z,InsereProduto:b,Message:h},data:function(){return{nomeProd:null,idProd:null,precoProd:null,estoqueProd:null,codBarras:null,produtos:null,produtos_id:null,form:{},msg:null,show:!0,visible:!1}},methods:{limpaCampos:function(){this.nomeProd="",this.precoProd="",this.codBarras="",this.estoqueProd=""},insereProduto:function(e){var t=this;return(0,n.Z)(regeneratorRuntime.mark((function o(){var r,s,n;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return e.preventDefault(),r={nomeProd:t.nomeProd,precoProd:t.precoProd,estoqueProd:t.estoqueProd,codBarras:t.codBarras},s=JSON.stringify(r),o.next=5,fetch("http://localhost:3000/produtos",{method:"POST",headers:{"Content-Type":"application/json"},body:s});case 5:return n=o.sent,o.next=8,n.json();case 8:o.sent,t.getProdutos(),t.msg="Registro inserido com sucesso",setTimeout((function(){return t.msg=""}),2500),t.limpaCampos();case 13:case"end":return o.stop()}}),o)})))()},getProdutos:function(){var e=this;return(0,n.Z)(regeneratorRuntime.mark((function t(){var o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:3000/produtos");case 2:return o=t.sent,t.next=5,o.json();case 5:r=t.sent,e.produtos=r,console.log(e.produtos);case 8:case"end":return t.stop()}}),t)})))()},confirmaExclusao:function(e){confirm("Deseja excluir este produto?")&&this.deleteProd(e)},deleteProd:function(e){var t=this;return(0,n.Z)(regeneratorRuntime.mark((function o(){var r;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,fetch("http://localhost:3000/produtos/".concat(e),{method:"DELETE"});case 2:return r=o.sent,o.next=5,r.json();case 5:o.sent,t.msg="Registro excluído com sucesso",setTimeout((function(){t.msg="",t.show=!1}),2500),t.getProdutos();case 9:case"end":return o.stop()}}),o)})))()},updateProd:function(e){var t=this;return(0,n.Z)(regeneratorRuntime.mark((function o(){var r,s;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return event.target.value,o.next=3,fetch("http://localhost:3000/produtos/".concat(e));case 3:return r=o.sent,o.next=6,r.json();case 6:s=o.sent,t.idProd=s.id,t.nomeProd=s.nomeProd,t.precoProd=s.precoProd,t.estoqueProd=s.estoqueProd,t.codBarras=s.codBarras;case 12:case"end":return o.stop()}}),o)})))()},confirmaUpdate:function(e){var t=this;return(0,n.Z)(regeneratorRuntime.mark((function o(){var r,s,n;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return r=JSON.stringify({nomeProd:t.nomeProd,precoProd:t.precoProd,estoqueProd:t.estoqueProd,codBarras:t.codBarras}),o.next=3,fetch("http://localhost:3000/produtos/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:r});case 3:return s=o.sent,o.next=6,s.json();case 6:n=o.sent,console.log(n),t.getProdutos();case 9:case"end":return o.stop()}}),o)})))()}},mounted:function(){this.getProdutos()}},C=x,w=(0,m.Z)(C,r,s,!1,null,"6adabb24",null),_=w.exports},8862:function(e,t,o){var r=o(2109),s=o(7854),n=o(5005),a=o(2104),i=o(1702),u=o(7293),c=s.Array,d=n("JSON","stringify"),l=i(/./.exec),p=i("".charAt),m=i("".charCodeAt),f=i("".replace),h=i(1..toString),v=/[\uD800-\uDFFF]/g,P=/^[\uD800-\uDBFF]$/,g=/^[\uDC00-\uDFFF]$/,b=function(e,t,o){var r=p(o,t-1),s=p(o,t+1);return l(P,e)&&!l(g,s)||l(g,e)&&!l(P,r)?"\\u"+h(m(e,0),16):e},x=u((function(){return'"\\udf06\\ud834"'!==d("\udf06\ud834")||'"\\udead"'!==d("\udead")}));d&&r({target:"JSON",stat:!0,forced:x},{stringify:function(e,t,o){for(var r=0,s=arguments.length,n=c(s);r<s;r++)n[r]=arguments[r];var i=a(d,null,n);return"string"==typeof i?f(i,v,b):i}})}}]);
//# sourceMappingURL=549-legacy.cdbcd65c.js.map