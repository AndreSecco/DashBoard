"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[875],{1712:function(t,o,s){s.d(o,{Z:function(){return d}});var e=function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",[s("b-alert",{attrs:{show:""}},[t._v(t._s(t.msg))])],1)},a=[],r={name:"Message",props:{msg:String}},i=r,n=s(1001),l=(0,n.Z)(i,e,a,!1,null,null,null),d=l.exports},9070:function(t,o,s){s.d(o,{Z:function(){return _}});var e=function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",{staticClass:"dashmain"},[s("div",{staticClass:"sidebar"},[s("SideBarComponent")],1),s("div",{staticClass:"content-right"},[s("div",{staticClass:"navbar"},[s("NavBarComponent")],1),s("div",{staticClass:"content-pages"},[t._t("slot-pages")],2)])])},a=[],r=function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",{staticClass:"navbarTop"},[t._m(0),s("a",{staticClass:"logout",attrs:{href:""},on:{click:function(o){return o.preventDefault(),t.logout.apply(null,arguments)}}},[s("i",{staticClass:"fa-solid fa-right-from-bracket"}),t._v(" Sair")])])},i=[function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",{staticStyle:{"line-height":"6px","padding-top":"12px"}},[s("p",{staticStyle:{"font-size":"25px","font-family":"caviar dreams","font-weight":"bold"}},[t._v("ANDRÉ SECCO")]),s("p",{staticStyle:{"font-size":"10px","font-weight":"bold","font-family":"caviar dreams"}},[t._v("MAIS, MELHOR E EM MENOS TEMPO")])])}],n={name:"NavBarComponent",methods:{logout(){this.$router.push({name:"login"})}}},l=n,d=s(1001),c=(0,d.Z)(l,r,i,!1,null,"28b24207",null),u=c.exports,p=function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",{staticClass:"sidebar"},[t._m(0),s("div",{staticClass:"menu"},[s("p",{}),s("hr"),s("ul",[s("router-link",{attrs:{to:{name:"home"}}},[s("li",[s("i",{staticClass:"fa fa-home icon"}),t._v(" Início")])]),s("router-link",{attrs:{to:{name:"sobre"}}},[s("li",[s("i",{staticClass:"fa-solid fa-address-card icon"}),t._v(" Sobre")])]),s("router-link",{attrs:{to:{name:"produtos"}}},[s("li",[s("i",{staticClass:"fa-solid fa-box-archive icon"}),t._v(" Produtos ")])]),s("router-link",{attrs:{to:{name:"clientes"}}},[s("li",[s("i",{staticClass:"fa-solid fa-user icon"}),t._v(" Clientes")])])],1)])])},m=[function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",{staticClass:"top"},[s("div",{staticClass:"avatar"},[s("span",[s("i",{staticClass:"fa fa-user"})])]),s("div",{staticClass:"info"},[s("p",{staticClass:"name"},[t._v("André Secco")]),s("p",{staticClass:"status"},[t._v("Online")])])])}],h={name:"SideBarComponent"},v=h,f=(0,d.Z)(v,p,m,!1,null,null,null),P=f.exports,b={name:"DashBoardComponent",components:{NavBarComponent:u,SideBarComponent:P}},C=b,g=(0,d.Z)(C,e,a,!1,null,"3c37c826",null),_=g.exports},875:function(t,o,s){s.r(o),s.d(o,{default:function(){return P}});var e=function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",[s("DashBoardComponent",[s("div",{staticClass:"main",attrs:{slot:"slot-pages"},slot:"slot-pages"},[s("div",{staticClass:"pages"},[s("h1",[t._v("Produtos")]),s("Message",{directives:[{name:"show",rawName:"v-show",value:t.msg,expression:"msg"}],attrs:{msg:t.msg}}),s("div",[s("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-1"},model:{value:t.visible,callback:function(o){t.visible=o},expression:"visible"}},[s("b-form",{attrs:{id:"produto-form"},on:{submit:t.insereProduto}},[s("div",{staticClass:"d-flex row"},[s("b-form-group",{staticClass:"col-12 col-sm-6",attrs:{id:"input-nomeProd",label:"Nome:","label-for":"input-1"}},[s("b-form-input",{staticClass:"col-12",attrs:{id:"nomeProd",type:"text",placeholder:"Nome",required:""},model:{value:t.nomeProd,callback:function(o){t.nomeProd=o},expression:"nomeProd"}},[t._v(t._s(t.nomeProd))])],1),s("b-form-group",{staticClass:"col-12 col-sm-2",attrs:{id:"input-precoProd",label:"Preço de Venda:","label-for":"input-2"}},[s("b-form-input",{attrs:{id:"precoProd",placeholder:"R$",required:""},model:{value:t.precoProd,callback:function(o){t.precoProd=o},expression:"precoProd"}})],1),s("b-form-group",{staticClass:"col-2",attrs:{id:"input-group-3",label:"Estoque:","label-for":"input-3"}},[s("b-form-input",{attrs:{id:"input-estoque",type:"Estoque",placeholder:"Estoque",required:""},model:{value:t.estoqueProd,callback:function(o){t.estoqueProd=o},expression:"estoqueProd"}})],1)],1),s("div",{staticClass:"d-flex row"},[s("b-form-group",{staticClass:"col-6",attrs:{id:"input-group-6",label:"Cód. de Barras:","label-for":"input-3"}},[s("b-form-input",{attrs:{id:"input-descricao",type:"Cód. de Barras",placeholder:"Cód. de Barras",required:""},model:{value:t.codBarras,callback:function(o){t.codBarras=o},expression:"codBarras"}})],1)],1),s("div",{attrs:{id:"atlista"}},[s("b-button",{staticClass:"mr-1",attrs:{type:"submit",variant:"success"},on:{click:function(o){t.visible=!t.visible,t.insereProduto}}},[t._v("Inserir")]),s("b-button",{staticClass:"mr-1",attrs:{variant:"primary"},on:{click:function(o){t.visible=!t.visible,t.confirmaUpdate(t.idProd)}}},[t._v("Alterar")]),s("b-button",{staticClass:"mr-1",attrs:{type:"reset"},on:{click:function(o){t.visible=!t.visible,t.limpaCampos()}}},[t._v("Cancelar")])],1)])],1)],1),s("div",{staticClass:"mt-3"},[s("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],staticClass:"mb-3",attrs:{variant:"outline-primary"}},[t._v(" Adicionar Novo Registro")]),s("table",{staticClass:"table"},[s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[t._v("#")]),s("th",{attrs:{scope:"col"}},[t._v("Nome")]),s("th",{attrs:{scope:"col"}},[t._v("Cod. de Barras")]),s("th",{attrs:{scope:"col"}},[t._v("Preço")]),s("th",{attrs:{scope:"col"}},[t._v("Ações")])])]),s("tbody",t._l(t.produtos,(function(o){return s("tr",{key:o.id},[s("th",{attrs:{scope:"row"}},[t._v(t._s(o.id))]),s("td",[t._v(t._s(o.nomeProd))]),s("td",[t._v(t._s(o.codBarras))]),s("td",[t._v("R$ "+t._s(o.precoProd))]),s("td",[s("b-button",{staticClass:"mr-2",attrs:{variant:"outline-primary"},on:{click:function(s){t.updateProd(o.id),t.visible=!t.visible}}},[t._v("Editar")]),s("b-button",{attrs:{variant:"outline-danger"},on:{click:function(s){return t.confirmaExclusao(o.id)}}},[t._v("Excluir")])],1)])})),0)])],1)],1)])])],1)},a=[],r=s(9070),i=function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",[s("b-modal",{attrs:{id:"modal-1",size:"xl",title:"Insira um Produto","hide-footer":""},model:{value:t.show,callback:function(o){t.show=o},expression:"show"}})],1)},n=[],l=s(1712),d={name:"insereProduto",emits:["atualiza-lista-prod"],props:{show:Boolean},data(){return{nomeProd:null,precoProd:null,estoqueProd:null,codBarras:null,produto:null,msg:null,form:{},show:!1}},methods:{limpaCampos(){this.nomeProd="",this.precoProd="",this.codBarras="",this.estoqueProd=""},async insereProduto(t){t.preventDefault();const o={nomeProd:this.nomeProd,precoProd:this.precoProd,estoqueProd:this.estoqueProd,codBarras:this.codBarras},s=JSON.stringify(o),e=await fetch("http://localhost:3000/produtos",{method:"POST",headers:{"Content-Type":"application/json"},body:s});await e.json();this.msg="Registro inserido com sucesso",setTimeout((()=>this.msg=""),2500),this.limpaCampos(),this.$root.$emit("atualiza-lista-prod")},getProdutos(){}},mounted(){},components:{Message:l.Z}},c=d,u=s(1001),p=(0,u.Z)(c,i,n,!1,null,null,null),m=p.exports,h={name:"ProdutosComponents",components:{DashBoardComponent:r.Z,InsereProduto:m,Message:l.Z},data(){return{nomeProd:null,idProd:null,precoProd:null,estoqueProd:null,codBarras:null,produtos:null,produtos_id:null,form:{},msg:null,show:!0,visible:!1}},methods:{limpaCampos(){this.nomeProd="",this.precoProd="",this.codBarras="",this.estoqueProd=""},async insereProduto(t){t.preventDefault();const o={nomeProd:this.nomeProd,precoProd:this.precoProd,estoqueProd:this.estoqueProd,codBarras:this.codBarras},s=JSON.stringify(o),e=await fetch("http://localhost:3000/produtos",{method:"POST",headers:{"Content-Type":"application/json"},body:s});await e.json();this.getProdutos(),this.msg="Registro inserido com sucesso",setTimeout((()=>this.msg=""),2500),this.limpaCampos()},async getProdutos(){const t=await fetch("http://localhost:3000/produtos"),o=await t.json();this.produtos=o,console.log(this.produtos)},confirmaExclusao(t){confirm("Deseja excluir este produto?")&&this.deleteProd(t)},async deleteProd(t){const o=await fetch(`http://localhost:3000/produtos/${t}`,{method:"DELETE"});await o.json();this.msg="Registro excluído com sucesso",setTimeout((()=>{this.msg="",this.show=!1}),2500),this.getProdutos()},async updateProd(t){event.target.value;const o=await fetch(`http://localhost:3000/produtos/${t}`),s=await o.json();this.idProd=s.id,this.nomeProd=s.nomeProd,this.precoProd=s.precoProd,this.estoqueProd=s.estoqueProd,this.codBarras=s.codBarras},async confirmaUpdate(t){const o=JSON.stringify({nomeProd:this.nomeProd,precoProd:this.precoProd,estoqueProd:this.estoqueProd,codBarras:this.codBarras}),s=await fetch(`http://localhost:3000/produtos/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:o}),e=await s.json();console.log(e),this.getProdutos()}},mounted(){this.getProdutos()}},v=h,f=(0,u.Z)(v,e,a,!1,null,"6adabb24",null),P=f.exports}}]);
//# sourceMappingURL=875.3716e496.js.map