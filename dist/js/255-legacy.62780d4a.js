(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[255],{1712:function(t,e,r){"use strict";r.d(e,{Z:function(){return c}});var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-alert",{attrs:{show:""}},[t._v(t._s(t.msg))])],1)},s=[],n={name:"Message",props:{msg:String}},a=n,i=r(1001),u=(0,i.Z)(a,o,s,!1,null,null,null),c=u.exports},875:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return g}});var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("DashBoardComponent",[r("div",{staticClass:"main",attrs:{slot:"slot-pages"},slot:"slot-pages"},[r("div",{staticClass:"pages"},[r("h1",[t._v("Produtos")]),r("Message",{directives:[{name:"show",rawName:"v-show",value:t.msg,expression:"msg"}],attrs:{msg:t.msg}}),r("div",[r("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-1"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[r("b-form",{attrs:{id:"produto-form"},on:{submit:t.insereProduto}},[r("div",{staticClass:"d-flex row"},[r("b-form-group",{staticClass:"col-12 col-sm-6",attrs:{id:"input-nomeProd",label:"Nome:","label-for":"input-1"}},[r("b-form-input",{staticClass:"col-12",attrs:{id:"nomeProd",type:"text",placeholder:"Nome",required:""},model:{value:t.nomeProd,callback:function(e){t.nomeProd=e},expression:"nomeProd"}},[t._v(t._s(t.nomeProd))])],1),r("b-form-group",{staticClass:"col-12 col-sm-2",attrs:{id:"input-precoProd",label:"Preço de Venda:","label-for":"input-2"}},[r("b-form-input",{attrs:{id:"precoProd",placeholder:"R$",required:""},model:{value:t.precoProd,callback:function(e){t.precoProd=e},expression:"precoProd"}})],1),r("b-form-group",{staticClass:"col-2",attrs:{id:"input-group-3",label:"Estoque:","label-for":"input-3"}},[r("b-form-input",{attrs:{id:"input-estoque",type:"Estoque",placeholder:"Estoque",required:""},model:{value:t.estoqueProd,callback:function(e){t.estoqueProd=e},expression:"estoqueProd"}})],1)],1),r("div",{staticClass:"d-flex row"},[r("b-form-group",{staticClass:"col-6",attrs:{id:"input-group-6",label:"Cód. de Barras:","label-for":"input-3"}},[r("b-form-input",{attrs:{id:"input-descricao",type:"Cód. de Barras",placeholder:"Cód. de Barras",required:""},model:{value:t.codBarras,callback:function(e){t.codBarras=e},expression:"codBarras"}})],1)],1),r("div",{attrs:{id:"atlista"}},[r("b-button",{staticClass:"mr-1",attrs:{type:"submit",variant:"success"},on:{click:function(e){t.visible=!t.visible,t.insereProduto}}},[t._v("Inserir")]),r("b-button",{staticClass:"mr-1",attrs:{variant:"primary"},on:{click:function(e){t.visible=!t.visible,t.confirmaUpdate(t.idProd)}}},[t._v("Alterar")]),r("b-button",{staticClass:"mr-1",attrs:{type:"reset"},on:{click:function(e){t.visible=!t.visible,t.limpaCampos()}}},[t._v("Cancelar")])],1)])],1)],1),r("div",{staticClass:"mt-3"},[r("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],staticClass:"mb-3",attrs:{variant:"outline-primary"}},[t._v(" Adicionar Novo Registro")]),r("table",{staticClass:"table"},[r("thead",[r("tr",[r("th",{attrs:{scope:"col"}},[t._v("#")]),r("th",{attrs:{scope:"col"}},[t._v("Nome")]),r("th",{attrs:{scope:"col"}},[t._v("Cod. de Barras")]),r("th",{attrs:{scope:"col"}},[t._v("Preço")]),r("th",{attrs:{scope:"col"}},[t._v("Ações")])])]),r("tbody",t._l(t.produtos,(function(e){return r("tr",{key:e.id},[r("th",{attrs:{scope:"row"}},[t._v(t._s(e.id))]),r("td",[t._v(t._s(e.nomeProd))]),r("td",[t._v(t._s(e.codBarras))]),r("td",[t._v("R$ "+t._s(e.precoProd))]),r("td",[r("b-button",{staticClass:"mr-2",attrs:{variant:"outline-primary"},on:{click:function(r){t.updateProd(e.id),t.visible=!t.visible}}},[t._v("Editar")]),r("b-button",{attrs:{variant:"outline-danger"},on:{click:function(r){return t.confirmaExclusao(e.id)}}},[t._v("Excluir")])],1)])})),0)])],1)],1)])])],1)},s=[],n=r(6198),a=(r(5666),r(8862),r(1539),r(9070)),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-modal",{attrs:{id:"modal-1",size:"xl",title:"Insira um Produto","hide-footer":""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1)},u=[],c=r(1712),d={name:"insereProduto",emits:["atualiza-lista-prod"],props:{show:Boolean},data:function(){return{nomeProd:null,precoProd:null,estoqueProd:null,codBarras:null,produto:null,msg:null,form:{},show:!1}},methods:{limpaCampos:function(){this.nomeProd="",this.precoProd="",this.codBarras="",this.estoqueProd=""},insereProduto:function(t){var e=this;return(0,n.Z)(regeneratorRuntime.mark((function r(){var o,s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.preventDefault(),o={nomeProd:e.nomeProd,precoProd:e.precoProd,estoqueProd:e.estoqueProd,codBarras:e.codBarras},s=JSON.stringify(o),r.next=5,fetch("http://localhost:3000/produtos",{method:"POST",headers:{"Content-Type":"application/json"},body:s});case 5:return n=r.sent,r.next=8,n.json();case 8:r.sent,e.msg="Registro inserido com sucesso",setTimeout((function(){return e.msg=""}),2500),e.limpaCampos(),e.$root.$emit("atualiza-lista-prod");case 13:case"end":return r.stop()}}),r)})))()},getProdutos:function(){}},mounted:function(){},components:{Message:c.Z}},l=d,p=r(1001),m=(0,p.Z)(l,i,u,!1,null,null,null),f=m.exports,h={name:"ProdutosComponents",components:{DashBoardComponent:a.Z,InsereProduto:f,Message:c.Z},data:function(){return{nomeProd:null,idProd:null,precoProd:null,estoqueProd:null,codBarras:null,produtos:null,produtos_id:null,form:{},msg:null,show:!0,visible:!1}},methods:{limpaCampos:function(){this.nomeProd="",this.precoProd="",this.codBarras="",this.estoqueProd=""},insereProduto:function(t){var e=this;return(0,n.Z)(regeneratorRuntime.mark((function r(){var o,s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.preventDefault(),o={nomeProd:e.nomeProd,precoProd:e.precoProd,estoqueProd:e.estoqueProd,codBarras:e.codBarras},s=JSON.stringify(o),r.next=5,fetch("http://localhost:3000/produtos",{method:"POST",headers:{"Content-Type":"application/json"},body:s});case 5:return n=r.sent,r.next=8,n.json();case 8:r.sent,e.getProdutos(),e.msg="Registro inserido com sucesso",setTimeout((function(){return e.msg=""}),2500),e.limpaCampos();case 13:case"end":return r.stop()}}),r)})))()},getProdutos:function(){var t=this;return(0,n.Z)(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/produtos");case 2:return r=e.sent,e.next=5,r.json();case 5:o=e.sent,t.produtos=o,console.log(t.produtos);case 8:case"end":return e.stop()}}),e)})))()},confirmaExclusao:function(t){confirm("Deseja excluir este produto?")&&this.deleteProd(t)},deleteProd:function(t){var e=this;return(0,n.Z)(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch("http://localhost:3000/produtos/".concat(t),{method:"DELETE"});case 2:return o=r.sent,r.next=5,o.json();case 5:r.sent,e.msg="Registro excluído com sucesso",setTimeout((function(){e.msg="",e.show=!1}),2500),e.getProdutos();case 9:case"end":return r.stop()}}),r)})))()},updateProd:function(t){var e=this;return(0,n.Z)(regeneratorRuntime.mark((function r(){var o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return event.target.value,r.next=3,fetch("http://localhost:3000/produtos/".concat(t));case 3:return o=r.sent,r.next=6,o.json();case 6:s=r.sent,e.idProd=s.id,e.nomeProd=s.nomeProd,e.precoProd=s.precoProd,e.estoqueProd=s.estoqueProd,e.codBarras=s.codBarras;case 12:case"end":return r.stop()}}),r)})))()},confirmaUpdate:function(t){var e=this;return(0,n.Z)(regeneratorRuntime.mark((function r(){var o,s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=JSON.stringify({nomeProd:e.nomeProd,precoProd:e.precoProd,estoqueProd:e.estoqueProd,codBarras:e.codBarras}),r.next=3,fetch("http://localhost:3000/produtos/".concat(t),{method:"PATCH",headers:{"Content-Type":"application/json"},body:o});case 3:return s=r.sent,r.next=6,s.json();case 6:n=r.sent,console.log(n),e.getProdutos();case 9:case"end":return r.stop()}}),r)})))()}},mounted:function(){this.getProdutos()}},v=h,P=(0,p.Z)(v,o,s,!1,null,"6adabb24",null),g=P.exports},8862:function(t,e,r){var o=r(2109),s=r(7854),n=r(5005),a=r(2104),i=r(1702),u=r(7293),c=s.Array,d=n("JSON","stringify"),l=i(/./.exec),p=i("".charAt),m=i("".charCodeAt),f=i("".replace),h=i(1..toString),v=/[\uD800-\uDFFF]/g,P=/^[\uD800-\uDBFF]$/,g=/^[\uDC00-\uDFFF]$/,b=function(t,e,r){var o=p(r,e-1),s=p(r,e+1);return l(P,t)&&!l(g,s)||l(g,t)&&!l(P,o)?"\\u"+h(m(t,0),16):t},x=u((function(){return'"\\udf06\\ud834"'!==d("\udf06\ud834")||'"\\udead"'!==d("\udead")}));d&&o({target:"JSON",stat:!0,forced:x},{stringify:function(t,e,r){for(var o=0,s=arguments.length,n=c(s);o<s;o++)n[o]=arguments[o];var i=a(d,null,n);return"string"==typeof i?f(i,v,b):i}})}}]);
//# sourceMappingURL=255-legacy.62780d4a.js.map