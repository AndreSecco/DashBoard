(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[220],{1712:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-alert",{attrs:{show:""}},[e._v(e._s(e.msg))])],1)},s=[],n={name:"Message",props:{msg:String}},a=n,i=r(1001),c=(0,i.Z)(a,o,s,!1,null,null,null),u=c.exports},1436:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("DashBoardComponent",[r("div",{staticClass:"main",attrs:{slot:"slot-pages"},slot:"slot-pages"},[r("div",{staticClass:"pages"},[r("h1",[e._v("Produtos")]),r("Message",{directives:[{name:"show",rawName:"v-show",value:e.msg,expression:"msg"}],attrs:{msg:e.msg}}),r("div",[r("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-1"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[r("b-form",{attrs:{id:"produto-form"},on:{submit:e.insereProduto}},[r("div",{staticClass:"d-flex row"},[r("b-form-group",{staticClass:"col-12 col-sm-6",attrs:{id:"input-nomeProd",label:"Nome:","label-for":"input-1"}},[r("b-form-input",{staticClass:"col-12",attrs:{id:"nomeProd",type:"text",placeholder:"Nome",required:""},model:{value:e.nomeProd,callback:function(t){e.nomeProd=t},expression:"nomeProd"}},[e._v(e._s(e.nomeProd))])],1),r("b-form-group",{staticClass:"col-12 col-sm-2",attrs:{id:"input-precoProd",label:"Preço de Venda:","label-for":"input-2"}},[r("b-form-input",{attrs:{id:"precoProd",placeholder:"R$",required:""},model:{value:e.precoProd,callback:function(t){e.precoProd=t},expression:"precoProd"}})],1),r("b-form-group",{staticClass:"col-2",attrs:{id:"input-group-3",label:"Estoque:","label-for":"input-3"}},[r("b-form-input",{attrs:{id:"input-estoque",type:"Estoque",placeholder:"Estoque",required:""},model:{value:e.estoqueProd,callback:function(t){e.estoqueProd=t},expression:"estoqueProd"}})],1)],1),r("div",{staticClass:"d-flex row"},[r("b-form-group",{staticClass:"col-6",attrs:{id:"input-group-6",label:"Cód. de Barras:","label-for":"input-3"}},[r("b-form-input",{attrs:{id:"input-descricao",type:"Cód. de Barras",placeholder:"Cód. de Barras",required:""},model:{value:e.codBarras,callback:function(t){e.codBarras=t},expression:"codBarras"}})],1)],1),r("div",{attrs:{id:"atlista"}},[r("b-button",{staticClass:"mr-1",attrs:{type:"submit",variant:"success"},on:{click:function(t){e.visible=!e.visible,e.insereProduto}}},[e._v("Inserir")]),r("b-button",{staticClass:"mr-1",attrs:{variant:"primary"},on:{click:function(t){e.visible=!e.visible,e.confirmaUpdate(e.idProd)}}},[e._v("Alterar")]),r("b-button",{staticClass:"mr-1",attrs:{type:"reset"},on:{click:function(t){e.visible=!e.visible,e.limpaCampos()}}},[e._v("Cancelar")])],1)])],1)],1),r("div",{staticClass:"mt-3"},[r("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],staticClass:"mb-3",attrs:{variant:"outline-primary"}},[e._v(" Adicionar Novo Registro")]),r("table",{staticClass:"table"},[r("thead",[r("tr",[r("th",{attrs:{scope:"col"}},[e._v("#")]),r("th",{attrs:{scope:"col"}},[e._v("Nome")]),r("th",{attrs:{scope:"col"}},[e._v("Cod. de Barras")]),r("th",{attrs:{scope:"col"}},[e._v("Preço")]),r("th",{attrs:{scope:"col"}},[e._v("Ações")])])]),r("tbody",e._l(e.produtos,(function(t){return r("tr",{key:t.id},[r("th",{attrs:{scope:"row"}},[e._v(e._s(t.id))]),r("td",[e._v(e._s(t.nomeProd))]),r("td",[e._v(e._s(t.codBarras))]),r("td",[e._v("R$ "+e._s(t.precoProd))]),r("td",[r("b-button",{staticClass:"mr-2",attrs:{variant:"outline-primary"},on:{click:function(r){e.updateProd(t.id),e.visible=!e.visible}}},[e._v("Editar")]),r("b-button",{attrs:{variant:"outline-danger"},on:{click:function(r){return e.confirmaExclusao(t.id)}}},[e._v("Excluir")])],1)])})),0)])],1)],1)])])],1)},s=[],n=r(6198),a=(r(5666),r(8862),r(1539),r(9070)),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-modal",{attrs:{id:"modal-1",size:"xl",title:"Insira um Produto","hide-footer":""},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}})],1)},c=[],u=r(1712),d={name:"insereProduto",emits:["atualiza-lista-prod"],props:{show:Boolean},data:function(){return{nomeProd:null,precoProd:null,estoqueProd:null,codBarras:null,produto:null,msg:null,form:{},show:!1}},methods:{limpaCampos:function(){this.nomeProd="",this.precoProd="",this.codBarras="",this.estoqueProd=""},insereProduto:function(e){var t=this;return(0,n.Z)(regeneratorRuntime.mark((function r(){var o,s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.preventDefault(),o={nomeProd:t.nomeProd,precoProd:t.precoProd,estoqueProd:t.estoqueProd,codBarras:t.codBarras},s=JSON.stringify(o),r.next=5,fetch("http://localhost:3000/produtos",{method:"POST",headers:{"Content-Type":"application/json"},body:s});case 5:return n=r.sent,r.next=8,n.json();case 8:r.sent,t.msg="Registro inserido com sucesso",setTimeout((function(){return t.msg=""}),2500),t.limpaCampos(),t.$root.$emit("atualiza-lista-prod");case 13:case"end":return r.stop()}}),r)})))()},getProdutos:function(){}},mounted:function(){},components:{Message:u.Z}},l=d,p=r(1001),m=(0,p.Z)(l,i,c,!1,null,null,null),f=m.exports,v={name:"ProdutosComponents",components:{DashBoardComponent:a.Z,InsereProduto:f,Message:u.Z},data:function(){return{nomeProd:null,idProd:null,precoProd:null,estoqueProd:null,codBarras:null,produtos:null,produtos_id:null,form:{},msg:null,show:!0,visible:!1}},methods:{limpaCampos:function(){this.nomeProd="",this.precoProd="",this.codBarras="",this.estoqueProd=""},insereProduto:function(e){var t=this;return(0,n.Z)(regeneratorRuntime.mark((function r(){var o,s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.preventDefault(),o={nomeProd:t.nomeProd,precoProd:t.precoProd,estoqueProd:t.estoqueProd,codBarras:t.codBarras},s=JSON.stringify(o),r.next=5,fetch("https://my-json-server.typicode.com/andresecco/dashboard/produtos/",{method:"POST",headers:{"Content-Type":"application/json"},body:s});case 5:return n=r.sent,r.next=8,n.json();case 8:r.sent,t.getProdutos(),t.msg="Registro inserido com sucesso",setTimeout((function(){return t.msg=""}),2500),t.limpaCampos();case 13:case"end":return r.stop()}}),r)})))()},getProdutos:function(){var e=this;return(0,n.Z)(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://my-json-server.typicode.com/andresecco/dashboard/produtos/");case 2:return r=t.sent,t.next=5,r.json();case 5:o=t.sent,e.produtos=o,console.log(e.produtos);case 8:case"end":return t.stop()}}),t)})))()},confirmaExclusao:function(e){confirm("Deseja excluir este produto?")&&this.deleteProd(e)},deleteProd:function(e){var t=this;return(0,n.Z)(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch("https://my-json-server.typicode.com/andresecco/dashboard/produtos/".concat(e),{method:"DELETE"});case 2:return o=r.sent,r.next=5,o.json();case 5:r.sent,t.msg="Registro excluído com sucesso",setTimeout((function(){t.msg="",t.show=!1}),2500),t.getProdutos();case 9:case"end":return r.stop()}}),r)})))()},updateProd:function(e){var t=this;return(0,n.Z)(regeneratorRuntime.mark((function r(){var o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return event.target.value,r.next=3,fetch("https://my-json-server.typicode.com/andresecco/dashboard/produtos/".concat(e));case 3:return o=r.sent,r.next=6,o.json();case 6:s=r.sent,t.idProd=s.id,t.nomeProd=s.nomeProd,t.precoProd=s.precoProd,t.estoqueProd=s.estoqueProd,t.codBarras=s.codBarras;case 12:case"end":return r.stop()}}),r)})))()},confirmaUpdate:function(e){var t=this;return(0,n.Z)(regeneratorRuntime.mark((function r(){var o,s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=JSON.stringify({nomeProd:t.nomeProd,precoProd:t.precoProd,estoqueProd:t.estoqueProd,codBarras:t.codBarras}),r.next=3,fetch("https://my-json-server.typicode.com/andresecco/dashboard/produtos/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:o});case 3:return s=r.sent,r.next=6,s.json();case 6:n=r.sent,console.log(n),t.getProdutos();case 9:case"end":return r.stop()}}),r)})))()}},mounted:function(){this.getProdutos()}},h=v,P=(0,p.Z)(h,o,s,!1,null,"3b70aef3",null),b=P.exports},8862:function(e,t,r){var o=r(2109),s=r(7854),n=r(5005),a=r(2104),i=r(1702),c=r(7293),u=s.Array,d=n("JSON","stringify"),l=i(/./.exec),p=i("".charAt),m=i("".charCodeAt),f=i("".replace),v=i(1..toString),h=/[\uD800-\uDFFF]/g,P=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,g=function(e,t,r){var o=p(r,t-1),s=p(r,t+1);return l(P,e)&&!l(b,s)||l(b,e)&&!l(P,o)?"\\u"+v(m(e,0),16):e},x=c((function(){return'"\\udf06\\ud834"'!==d("\udf06\ud834")||'"\\udead"'!==d("\udead")}));d&&o({target:"JSON",stat:!0,forced:x},{stringify:function(e,t,r){for(var o=0,s=arguments.length,n=u(s);o<s;o++)n[o]=arguments[o];var i=a(d,null,n);return"string"==typeof i?f(i,h,g):i}})}}]);
//# sourceMappingURL=220-legacy.e20c3f78.js.map